<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="./styles.css">
    <script async src="https://api.glia.com/salemove_integration.js"></script>
    
    
 </head>
<body>
  
  <script>
      window.addEventListener('DOMContentLoaded', function() {
          const message = '<button data-sm-show-media-selection-on="click" href="javascript:void(0);">Contact Uss</button>';
          const phoneArr = Array.from(document.body.querySelectorAll(".phone-number"));

          sm.getApi({version: 'v1'}).then((glia) => {
            const onQueueStateUpdate = (queueState) => {
              // Replace phone number elements with the control when a queue with audio or phone ability is available.
              if (queueState.state === queueState.QUEUE_STATES.CAN_QUEUE &&
                  (queueState.medias.includes('audio') ||
                   queueState.medias.includes('phone'))) {
                // Replace all the phone numbers with the Contact Us control.
                phoneArr.forEach((elem) => {
                  elem.innerHTML = message;
                });
              // Restore the original phone numbers when no queue with audio or phone media is available.
              } else if (queueState.state === queueState.QUEUE_STATES.CANNOT_QUEUE ||
                         !(queueState.medias.includes('audio') ||
                           queueState.medias.includes('phone'))) {
                // Replace the Contact Us controls with the original phone numbers.
                phoneArr.forEach((elem) => {
                  elem.innerHTML = elem.getAttribute("glia-phone-original");
                });
              }
    }

  // Store the initial situation to be able to replace it back and forth.
  phoneArr.forEach((elem) => {
    elem.setAttribute("glia-phone-original", elem.innerHTML);
  });

  // Add listener to act in case any queue state is changed.
  glia.addEventListener(glia.EVENTS.QUEUE_STATE_UPDATE, onQueueStateUpdate);
});
    });
</script>
  

<ul>
  <li><a href="#">Home</a></li>
  <li><a href="about.html">About</a></li>
  <li><a href="https://hannesgregor.github.io/firstlink.html">Github</a></li>
</ul>
  
  <p><span class="phone-number"><a href="tel:(555) 2555-5555">(555)555-5555</a></span></p>
  
  
  <div class="alert">
  <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
  This is an alert box.
  </div>
  
 <footer id="footer">
   <div align="center">
     <input type="button" name="help-button" value="Press for help">
     <button
      class="omnibrowse-code-button"
      onclick="document.body.appendChild(document.createElement('sm-visitor-code'))">
      Get CoBrowsing code
    </button>
   </div>
  </footer>
 
</body>
</html>
